self.AMP_CONFIG={"allow-doc-opt-in":["visibility-v3","amp-animation","ampdoc-shell","amp-ima-video"],"allow-url-opt-in":["pump-early-frame"],"canary":0,"expAdsenseA4A":0.01,"expDoubleclickA4A":0.01,"expDfpCanonicalFf":0.01,"expUnconditionedCanonical":0.01,"dbclk_a4a_viz_change":0.02,"a4aProfilingRate":0.1,"ad-type-custom":1,"ios-embed-wrapper":1,"amp-apester-media":1,"amp-playbuzz":1,"chunked-amp":1,"sticky-ad-early-load":1,"amp-auto-ads":1,"amp-auto-ads-adsense-holdout":0.1,"slidescroll-disable-css-snap":1,"version-locking":1,"visibility-v3":1,"a4aFastFetchDoubleclickLaunched":0,"a4aFastFetchAdSenseLaunched":0,"a4a-new-signature-verifier":1,"pump-early-frame":1,"a4a-measure-get-ad-urls":0,"ad-loader-v2":1,"3p-use-ampcontext":0,"amp-animation":1,"amp-sidebar toolbar":1,"amp-position-observer":1,"a4a-safeframe-preloading-off":0.01,"v":"011508896929494","type":"production"};/*AMP_CONFIG*/var h;function p(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};function u(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var aa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function v(a){var b=Object.create(null);if(!a)return b;for(var c;c=aa.exec(a);){var d=u(c[1],c[1]).trim();c=c[2]?u(c[2],c[2]).trim():"";b[d]=c}return b};var w="";function x(a){var b=a||self,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;var d=v(c.location.originalHash||c.location.hash),e=v(c.location.search);w||(w=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011508896929494");c=b.AMP_MODE={localDev:!1,development:!("1"!=d.development&&!c.AMP_DEV_MODE),examiner:"2"==d.development,filter:d.filter,minified:!0,lite:void 0!=e.amp_lite,test:!1,log:d.log,version:"1508896929494",rtvVersion:w}}return c};var ba=Date.now();function ca(){var a=da;self.reportError=a}function ea(a,b,c){this.win=a;this.J=b;this.c=this.win.console&&this.win.console.log&&"0"!=x().log?this.J({localDev:!1,development:x(void 0).development,filter:x(void 0).filter,minified:!0,lite:x(void 0).lite,test:!1,log:x(void 0).log,version:x(void 0).version,rtvVersion:x(void 0).rtvVersion}):0;this.j=c||""}
function y(a,b,c,d){if(0!=a.c){var e=a.win.console.log;"ERROR"==c?e=a.win.console.error||e:"INFO"==c?e=a.win.console.info||e:"WARN"==c&&(e=a.win.console.warn||e);d.unshift(Date.now()-ba,"["+b+"]");e.apply(a.win.console,d)}}h=ea.prototype;h.isEnabled=function(){return 0!=this.c};h.fine=function(a,b){4<=this.c&&y(this,a,"FINE",Array.prototype.slice.call(arguments,1))};h.info=function(a,b){3<=this.c&&y(this,a,"INFO",Array.prototype.slice.call(arguments,1))};
h.warn=function(a,b){2<=this.c&&y(this,a,"WARN",Array.prototype.slice.call(arguments,1))};h.w=function(a,b){if(1<=this.c)y(this,a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=z.apply(null,Array.prototype.slice.call(arguments,1));A(this,c);return c}};h.error=function(a,b){var c=this.w.apply(this,arguments);c&&(c.name=a||c.name,self.reportError(c))};h.expectedError=function(a,b){var c=this.w.apply(this,arguments);c&&(c.expected=!0,self.reportError(c))};
h.createError=function(a){var b=z.apply(null,arguments);A(this,b);return b};h.createExpectedError=function(a){var b=z.apply(null,arguments);A(this,b);b.expected=!0;return b};
h.assert=function(a,b,c){var d;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),g=f,m=[];""!=f&&m.push(f);for(f=2;f<arguments.length;f++){var k=arguments[f];k&&k.tagName&&(d=k);var q=e.shift();m.push(k);var l=q.trim();""!=l&&m.push(l);var l=g,n;n=(n=k)&&1==n.nodeType?n.tagName.toLowerCase()+(n.id?"#"+n.id:""):n;g=l+(n+q)}f=Error(g);f.fromAssert=!0;f.associatedElement=d;f.messageArray=m;A(this,f);self.reportError(f);throw f;}return a};
h.assertElement=function(a,b){this.assert(a&&1==a.nodeType,(b||"Element expected")+": %s",a);return a};h.assertString=function(a,b){this.assert("string"==typeof a,(b||"String expected")+": %s",a);return a};h.assertNumber=function(a,b){this.assert("number"==typeof a,(b||"Number expected")+": %s",a);return a};h.assertEnumValue=function(a,b,c){a:{for(var d in a)if(a[d]===b){a=!0;break a}a=!1}if(a)return b;this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};
function A(a,b){b=B(b);a.j?b.message?-1==b.message.indexOf(a.j)&&(b.message+=a.j):b.message=a.j:0<=b.message.indexOf("\u200b\u200b\u200b")&&(b.message=b.message.replace("\u200b\u200b\u200b",""))}function B(a){var b=a.message,c=String(Math.random());a.message=c;if(a.message===c)return a.message=b,a;var b=Error(a.message),d;for(d in a)b[d]=a[d];b.stack=a.stack;return b}
function z(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=B(e):(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function fa(a){var b=z.apply(null,arguments);setTimeout(function(){self.reportError(b);throw b;})}self.log=self.log||{user:null,dev:null,userForEmbed:null};var C=self.log,D=null;
function ga(){if(!D)throw Error("failed to call initLogConstructor");return new D(self,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b")}function E(){if(C.dev)return C.dev;if(!D)throw Error("failed to call initLogConstructor");return C.dev=new D(self,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0})};function F(a){return a||{}};function G(a,b){a=a.__AMP_TOP||a;return H(a,b)}function ha(a){a=ia(a);a=ia(a);a=a.isSingleDoc()?a.win:a;return H(a,"resources")}function ia(a){return a.nodeType?G((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function H(a,b){var c=I(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function ja(a,b){var c=ka(a,b);if(c)return c;var d,e=new Promise(function(a){d=a});I(a)[b]={obj:null,promise:e,resolve:d,context:null,ctor:null};return e}function ka(a,b){var c=I(a)[b];if(c){if(c.promise)return c.promise;H(a,b);return c.promise=Promise.resolve(c.obj)}return null}function I(a){var b=a.services;b||(b=a.services={});return b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function la(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){var e=new d.MutationObserver(function(){b(a)&&(e.disconnect(),c())});e.observe(a,{childList:!0})}else var f=d.setInterval(function(){b(a)&&(d.clearInterval(f),c())},5)}}function ma(a,b){la(a.documentElement,function(){return!!a.body},b)};var J=self.AMP_CONFIG||{},na=("string"==typeof J.cdnProxyRegex?new RegExp(J.cdnProxyRegex):J.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,oa=J.errorReportingUrl||"https://amp-error-reporting.appspot.com/r";var K,L;Promise.resolve();function pa(){var a=qa();return function(b){return setTimeout(b,a())}}function qa(){var a=0;return function(){var b=Math.pow(1.5,a++),c;c=b*(c||.3)*Math.random();.5<Math.random()&&(c*=-1);b+=c;return 1E3*b}};var M,ra="Webkit webkit Moz moz ms O o".split(" ");function N(a,b){for(var c in b){var d=a,e=b[c],f;f=d.style;var g=c;if(p(g,"--"))f=g;else{M||(M=Object.create(null));var m=M[g];if(!m){m=g;if(void 0===f[g]){var k;k=g;k=k.charAt(0).toUpperCase()+k.slice(1);b:{for(var q=0;q<ra.length;q++){var l=ra[q]+k;if(void 0!==f[l]){k=l;break b}}k=""}void 0!==f[k]&&(m=k)}M[g]=m}f=m}f&&(d.style[f]=e)}}
function sa(a){var b="position z-index left right top bottom width height margin border".split(" "),c={};b.forEach(function(a){c[a]=null});N(a,c)};var ta={"amp-dynamic-css-classes":"[custom-element=amp-dynamic-css-classes]",variant:"amp-experiment","amp-story":"amp-story[standalone]"};function ua(a){var b=va(a).map(function(b){return G(a,"timer").timeoutPromise(3E3,ja(a,b),"Render timeout waiting for service "+b+" to be ready.")});return Promise.all(b)}function va(a){var b=a.document;return Object.keys(ta).filter(function(a){return b.querySelector(ta[a])})};function wa(a){var b,c=a.defaultView;if(!c.__AMP_BODY_VISIBLE){var d=function(){c.__AMP_BODY_VISIBLE=!0;N(a.body,{opacity:1,visibility:"visible",animation:"none"});try{ha(a).renderStarted()}catch(e){}};try{ma(a,function(){c.__AMP_BODY_VISIBLE||(c.__AMP_BODY_VISIBLE=!0,b?ua(c).catch(function(a){fa(a);return[]}).then(function(b){d();0<b.length&&ha(a).schedulePass(1,!0);try{var e=G(c,"performance");e.tick("mbv");e.flush()}catch(g){}}):d())})}catch(e){d(),fa(e)}}};var O=self.AMPErrors||[];self.AMPErrors=O;function P(a){P=pa();return P(a)}function xa(a){try{return JSON.stringify(a)}catch(b){return String(a)}}var Q;
function da(a,b){try{var c;if(a)if(void 0!==a.message)a=B(a),c=!0;else{var d=a;a=Error(xa(d));a.origError=d}else a=Error("Unknown error");if(a.reported)return a;a.reported=!0;var e=b||a.associatedElement;e&&e.classList&&(e.classList.add("i-amphtml-error"),x().development&&(e.classList.add("i-amphtml-element-error"),e.setAttribute("error-message",a.message)));if(self.console){var f=console.error||console.log;a.messageArray?f.apply(console,a.messageArray):e?f.call(console,a.message,e):f.call(console,
a.message)}e&&e.F&&e.F("amp:error",a.message);ya.call(void 0,void 0,void 0,void 0,void 0,a)}catch(g){setTimeout(function(){throw g;})}return a}function ya(a,b,c,d,e){this&&this.document&&wa(this.document);if(!x().development){var f=!1;try{f=za()}catch(m){}if(!(f&&.01<Math.random())){var g=Aa(a,b,c,d,e,f);g&&P(function(){(new Image).src=g})}}}
function Aa(a,b,c,d,e,f){var g=!1;e&&(a=e.message?e.message:String(e),e.expected&&(g=!0));a||(a="Unknown error");if(!/_reported_/.test(a)&&"CANCELLED"!=a){var m=Math.random();if(-1!=a.indexOf("Failed to load:")||"Script error."==a)if(g=!0,.001<m)return;var k=0<=a.indexOf("\u200b\u200b\u200b");if(!(k&&.1<m)){f=oa+"?v="+x().rtvVersion+"&noAmp="+(f?1:0)+"&m="+encodeURIComponent(a.replace("\u200b\u200b\u200b",""))+"&a="+(k?1:0);g&&(f+="&ex=1");var q="1p";self.context&&self.context.location?(f+="&3p=1",
q="3p"):x().runtime&&(q=x().runtime);f+="&rt="+q;var l=self;l.AMP_CONFIG&&l.AMP_CONFIG.canary&&(f+="&ca=1");l=self;f+="&bt="+(l.AMP_CONFIG&&l.AMP_CONFIG.type?l.AMP_CONFIG.type:"unknown");self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(f+="&or="+encodeURIComponent(self.location.ancestorOrigins[0]));self.viewerState&&(f+="&vs="+encodeURIComponent(self.viewerState));self.parent&&self.parent!=self&&(f+="&iem=1");if(self.AMP&&self.AMP.viewer){var n=self.AMP.viewer.getResolvedViewerUrl(),
r=self.AMP.viewer.maybeGetMessagingOrigin();n&&(f+="&rvu="+encodeURIComponent(n));r&&(f+="&mso="+encodeURIComponent(r))}Q||(Q=Ba());f+="&jse="+Q;var t=[],l=self.__AMP__EXPERIMENT_TOGGLES||null,T;for(T in l)t.push(T+"="+(l[T]?"1":"0"));f+="&exps="+encodeURIComponent(t.join(","));if(e){f+="&el="+encodeURIComponent(e&&e.associatedElement?e.associatedElement.tagName:"u");e.args&&(f+="&args="+encodeURIComponent(JSON.stringify(e.args)));if(!k&&!e.ignoreStack&&e.stack){var Ea=(e.stack||"").substr(0,1E3);
f+="&s="+encodeURIComponent(Ea)}e.message+=" _reported_"}else f+="&f="+encodeURIComponent(b||"")+"&l="+encodeURIComponent(c||"")+"&c="+encodeURIComponent(d||"");f+="&r="+encodeURIComponent(self.document.referrer);f+="&ae="+encodeURIComponent(O.join(","));O.push(a);f+="&fr="+encodeURIComponent(self.location.originalHash||self.location.hash);2072<=f.length&&(f=f.substr(0,2064).replace(/\%[^&%]+$/,"")+"&SHORT=1");return f}}}
function za(){for(var a=self.document.querySelectorAll("script[src]"),b=0;b<a.length;b++){var c=a[b].src.toLowerCase();if("string"==typeof c){K||(K=self.document.createElement("a"),L=self.UrlCache||(self.UrlCache=Object.create(null)));var d=L[c];if(d)c=d;else{d=K;d.href=c;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);
if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;c=L[c]=e}}if(!na.test(c.origin))return!0}return!1}
function Ba(){function a(){}a.prototype.t=function(){throw Error("message");};var b=new a;try{b.t()}catch(e){var c=e.stack;if(p(c,"t@"))return"Safari";if(-1<c.indexOf(".prototype.t@"))return"Firefox";var d=c.split("\n").pop();if(/\bat .* \(/i.test(d))return"IE";if(p(c,"Error: message"))return"Chrome"}return"unknown"};function Ca(){this.a=null}h=Ca.prototype;h.add=function(a){var b=this;this.a||(this.a=[]);this.a.push(a);return function(){b.remove(a)}};h.remove=function(a){this.a&&(a=this.a.indexOf(a),-1<a&&this.a.splice(a,1))};h.removeAll=function(){this.a&&(this.a.length=0)};h.fire=function(a){if(this.a)for(var b=this.a,c=0;c<b.length;c++)(0,b[c])(a)};h.getHandlerCount=function(){return this.a?this.a.length:0};function R(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}}function S(a){return R(Number(a.left),Number(a.top),Number(a.width),Number(a.height))};function U(a,b,c){a.requestAnimationFrame(function(){b.measure&&b.measure(c);b.mutate&&b.mutate(c)})}function Da(a){var b=700;setTimeout(a,b)};function Fa(a,b,c){var d=500,e=c.width/2-b.width/2-b.left+"px",f=c.height/2-b.height/2-b.top+"px",g=b.top+"px",m=c.width-(b.left+b.width)+"px",k=b.left+"px",q=c.height-(b.top+b.height)+"px",l=b.height+"px",n=b.width+"px",r;r=e;var t=f;"number"==typeof r&&(r+="px");void 0===t?r="translate("+r+")":("number"==typeof t&&(t+="px"),r="translate("+r+", "+t+")");N(a,{position:"fixed",top:g,right:m,left:k,bottom:q,height:l,width:n,transition:"transform "+d/1E3+"s ease",transform:r})};function Ga(a,b,c){U(a,{measure:function(c){c.viewportSize={width:a.innerWidth,height:a.innerHeight};c.rect=b.getBoundingClientRect()},mutate:function(d){var e=S(d.rect),f=R(0,0,d.viewportSize.width,d.viewportSize.height);Fa(b,d.rect,d.viewportSize);Da(function(){U(a,{mutate:function(){N(b,{position:"fixed","z-index":1E3,left:0,right:0,top:0,bottom:0,width:"100vw",height:"100vh",transition:null,transform:null,margin:0,border:0});c(e,f)}})})}},{})}
function Ha(a,b,c,d){U(a,{mutate:function(){sa(b);c();U(a,{measure:function(){d(S(b.getBoundingClientRect()))}})}})};function V(a){this.b=a;this.l=this.s=!1;this.g=null;Ia(this)}function Ia(a){a.b.addEventListener("resize",function(){return a.onWindowResize()})}V.prototype.onWindowResize=function(){this.s&&(this.l=!0)};V.prototype.expandFrame=function(a,b){var c=this;Ga(this.b,a,function(a,e){c.s=!0;c.l=!1;c.g=a;b(e)})};V.prototype.collapseFrame=function(a,b){var c=this;Ha(this.b,a,function(){c.s=!1;c.l||b(c.g)},function(a){c.g=a;c.l&&b(c.g)})};function Ja(a,b){var c=100;function d(d){g=null;f=a.setTimeout(e,c);b.apply(null,d)}function e(){f=0;g&&d(g)}var f=0,g=null;return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f?g=b:d(b)}};function W(a){this.b=a;this.i=null;var b=this.b;a=b.document;if(a.scrollingElement)a=a.scrollingElement;else{var c;if(c=a.body)b=b.navigator.userAgent,c=/WebKit/i.test(b)&&!/Edge/i.test(b);a=c?a.body:a.documentElement}this.K=a;this.m=null}
W.prototype.observe=function(a,b){var c=this;if(!this.i){this.i=new Ca;var d=Ja(this.b,function(){c.m=c.getViewportRect();c.i.fire()});this.m=this.getViewportRect();this.b.addEventListener("scroll",d,!0);this.b.addEventListener("resize",d,!0)}b({viewportRect:this.m,targetRect:S(a.getBoundingClientRect())});this.i.add(function(){b({viewportRect:c.m,targetRect:S(a.getBoundingClientRect())})})};
W.prototype.getViewportRect=function(){var a=this.K,b=this.b,c=a.scrollLeft||b.pageXOffset,d=a.scrollTop||b.pageYOffset;return R(Math.round(c),Math.round(d),b.innerWidth,b.innerHeight)};function X(a,b,c){var d;c=void 0===c?{}:c;d=void 0===d?null:d;c.type=a;c.sentinel=b;return"amp-"+(d||"")+JSON.stringify(c)};function Y(){this.u={}}Y.prototype.listen=function(a,b){this.u[a]=b};Y.prototype.fire=function(a,b,c){return a in this.u?this.u[a].apply(b,c):!1};function Z(a,b){this.b=a;this.B=b;this.o=Object.create(null);this.D=Object.create(null);this.C=new W(a);this.h=new Y;this.A=new V(a);this.h.listen("send-positions",this.I);this.h.listen("full-overlay-frame",this.H);this.h.listen("cancel-full-overlay-frame",this.G)}
Z.prototype.processMessage=function(a){var b;var c=a.data;if("string"==typeof c&&0==c.indexOf("amp-")&&-1!=c.indexOf("{")){var d=c.indexOf("{");try{b=JSON.parse(c.substr(d))}catch(g){E().error("MESSAGING","Failed to parse message: "+c,g),b=null}}else b=null;if(!b||!b.sentinel)return!1;a:if(c=a.source,d=b.sentinel,this.o[d])c=this.o[d];else{for(;c.parent!==this.b&&c!==this.b.top;)c=c.parent;for(var e=0;e<this.B.length;e++){var f=this.B[e];if(f.contentWindow===c){c=this.o[d]=f;break a}}c=null}return c?
this.h.fire(b.type,this,[c,b,a.source,a.origin])?!0:(E().warn("InaboxMessagingHost","Unprocessed AMP message:",a),!1):(E().info("InaboxMessagingHost","Ignored message from untrusted iframe:",a),!1)};Z.prototype.I=function(a,b,c,d){var e=this.C.getViewportRect(),f=S(a.getBoundingClientRect());Ka(b,c,d,F({viewportRect:e,targetRect:f}));if(this.D[b.sentinel])return!0;this.D[b.sentinel]=!0;this.C.observe(a,function(a){Ka(b,c,d,a)});return!0};
function Ka(a,b,c,d){b.postMessage(X("position",a.sentinel,d),c)}Z.prototype.H=function(a,b,c,d){this.A.expandFrame(a,function(a){c.postMessage(X("full-overlay-frame-response",b.sentinel,F({success:!0,boxRect:a})),d)});return!0};Z.prototype.G=function(a,b,c,d){this.A.collapseFrame(a,function(a){c.postMessage(X("cancel-full-overlay-frame-response",b.sentinel,F({success:!0,boxRect:a})),d)});return!0};La();function La(){var a=self;if(a.ampInaboxInitialized)E().info("inabox-host","Skip a 2nd attempt of initializing AMP inabox host.");else{a.ampInaboxInitialized=!0;D=ea;E();C.user||(C.user=ga());ca();var b=new Z(a,a.ampInaboxIframes);a.ampInaboxPendingMessages.forEach(function(a){b.processMessage(a)});a.addEventListener("message",b.processMessage.bind(b))}};
//# sourceMappingURL=amp4ads-host-v0.js.map
